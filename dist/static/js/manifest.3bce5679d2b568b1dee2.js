(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"3yoz":function(e,t,a){},ZsDp:function(e,t,a){"use strict";a.r(t);var n=a("uqIC"),l=a.n(n),r=a("jCnN"),i=a.n(r),o=a("b8VQ"),c=a("ujdN"),u=a("ECjy"),s=a("dm4L"),d=a("vpJL"),m=a("GHNm"),p=a("baKk"),f=a("4wE5"),b=a("aPIi"),v=a("DAl+"),y=a("yw55"),E=a("W9U2"),h=a("1z1q"),g=a("hhxt"),x=a("n0rf"),w=a("VYVj"),I=a("UCZ4"),k=function(){return(k=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var l in t=arguments[a])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)};var C=x.a.create()(function(e){var t=e.isVisible,a=e.setIsVisible,n=e.container,r=void 0===n?"modal":n,i=e.containerProps,o=e.title,c=e.editType,u=e.form,s=e.fields,f=e.data,C=e.onSubmit;function j(){var e="create"===c,t=[];return s.forEach(function(a,n){var r=a.title,i=a.col,o=void 0===i?1:i,c=a.labelCol,s=void 0===c?{span:6}:c,d=a.wrapperCol,p=void 0===d?{span:18}:d,I=a.fields,C=[];r&&C.push(l.a.createElement(b.a.Title,{level:4},r)),I.forEach(function(t,a){var n=t.dataIndex,r=t.label,i=t.render,c=t.type,d=void 0===c?"string":c,b=t.defaultValue,w=t.inputProps,I=void 0===w?{}:w,j=t.rules,O=t.options,S=t.relate;I.placeholder=I.placeholder||r,b=e?b:f[n];var T=u.getFieldDecorator,P=u.getFieldValue,V=function(){if(i)return i();if("string"===d||"number"===d||"textarea"===d){var e="string"===d?m.a:"number"===d?v.a:m.a.TextArea;return T(n,{initialValue:b,rules:j})(l.a.createElement(e,k({},I)))}return S&&(O=O[P(S)]||[]),"radio"===d||"checkbox"===d?(e="radio"===d?y.a:E.a,T(n,{initialValue:b,rules:j})(l.a.createElement(e.Group,k({options:O},I)))):T(n,{initialValue:b,rules:j})(l.a.createElement(h.a,k({},I),O.map(function(e,t){var a=e.value||t,n=e.text||e;return l.a.createElement(h.a.Option,{key:a,value:a},n)})))}();C.push(l.a.createElement(g.a,{span:24/o,key:a},l.a.createElement(x.a.Item,{label:r,labelCol:s,wrapperCol:p},V)))}),t.push(l.a.createElement(w.a,{key:n},C))}),t}function O(){a(!1)}return"modal"===r?l.a.createElement(d.a,k({className:"commonTable-edit",visible:t,title:o,okText:"确认",cancelText:"取消",onCancel:O},i),l.a.createElement(x.a,null,j())):l.a.createElement(I.a,k({className:"commonTable-edit",width:"90%",visible:t,title:o,onClose:O},i),l.a.createElement(x.a,null,j(),l.a.createElement(w.a,null,l.a.createElement(g.a,{span:24,style:{textAlign:"right"}},l.a.createElement(p.a,{type:"primary",onClick:function(){u.validateFields(function(e,t){e||(C(c,t),a(!1))})}},"保存"),l.a.createElement(p.a,{style:{marginLeft:8},onClick:O},"取消")))))}),j=(a("p2bk"),function(){return(j=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var l in t=arguments[a])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)});var O=function(e){var t=e.tableProps,a=e.onSearch,r=e.onDelete,i=e.container,o=e.containerProps,c=e.title,b=e.fields,v=e.onSubmit,y=Object(n.useState)(""),E=y[0],h=y[1],g=Object(n.useState)(!1),x=g[0],w=g[1],I=Object(n.useState)(""),k=I[0],O=I[1],S=Object(n.useState)(""),T=S[0],P=S[1],V=Object(n.useState)({}),D=V[0],N=V[1],z=Object(n.useState)([]),K=z[0],L=z[1],q=Object(n.useState)([]),U=q[0],A=q[1],F={onChange:function(e,t){L(e),A(t)}},J=j({},t,{columns:t.columns.concat([{key:"action",title:"操作",render:function(e,a){return l.a.createElement("span",null,l.a.createElement("a",{href:"javascript:",onClick:function(){return function(e){O("编辑"+c),P("update"),N(e),w(!0)}(a)}},"编辑"),l.a.createElement(s.a,{type:"vertical"}),l.a.createElement("a",{href:"javascript:",onClick:function(){return function(e){var a=t.rowKey?e[t.rowKey]:e.key;G(function(){r([a],[e])})}(a)}},"删除"))}}])});function G(e,t){d.a.confirm({title:"确认要删除吗?",content:"该操作将不可撤销。",okText:"确认",cancelText:"取消",onOk:e,onCancel:t})}return l.a.createElement("div",{className:"commonTable"},l.a.createElement("div",{className:"commonTable-toolbar"},a?l.a.createElement("div",{className:"commonTable-search"},l.a.createElement(m.a,{placeholder:"用户名",onChange:function(e){return h(e.target.value)}}),l.a.createElement(p.a,{type:"primary",onClick:function(){""!==E&&a(E)}},"查询")):null,l.a.createElement("span",null,l.a.createElement(p.a,{type:"primary",onClick:function(){O("添加"+c),P("create"),w(!0)}},"添加"),l.a.createElement(p.a,{type:"danger",onClick:function(){0!==K.length?G(function(){r(K,U)}):u.a.warning("请选择要删除的数据")}},"删除"))),l.a.createElement(f.a,j({rowSelection:F},J)),l.a.createElement(C,{container:i,containerProps:o,title:k,editType:T,isVisible:x,setIsVisible:w,fields:b,data:D,onSubmit:v}))},S=[{id:1,name:"小明",age:20,tel:13e9,email:"xiaoming@example.com",province:0,city:0,gender:0,interest:[0,1,2,3],createDate:"2019/1/1"},{id:2,name:"李雷",age:21,tel:13111111111,email:"lilei@example.com",province:1,city:1,gender:0,interest:[0,1,2,3],createDate:"2019/1/1"},{id:3,name:"韩梅梅",age:22,tel:13222222222,email:"hanmeimei@example.com",province:2,city:1,gender:1,interest:[0,1,2,3],createDate:"2019/1/1"}],T=S.length+1;var P=function(){var e=Object(n.useState)([]),t=e[0],a=e[1];function r(){new Promise(function(e){setTimeout(function(){e(S.slice())},300)}).then(a)}function i(e){var t=e.code,a=e.message;1===t&&u.a.success(a),r()}return Object(n.useEffect)(r,[]),l.a.createElement(O,{tableProps:{columns:[{dataIndex:"id",title:"ID"},{dataIndex:"name",title:"姓名"},{dataIndex:"gender",title:"性别",render:function(e){return 0===e?"男":"女"}},{dataIndex:"age",title:"年龄"},{dataIndex:"email",title:"邮箱"},{dataIndex:"createDate",title:"创建日期"}],dataSource:t,rowKey:"id"},onSearch:function(e){var t;(t=e,new Promise(function(e){setTimeout(function(){e(S.filter(function(e){return e.name.indexOf(t)>-1}))},300)})).then(a)},onDelete:function(e){(function(e){return new Promise(function(t){setTimeout(function(){S=S.filter(function(t){var a=t.id;return e.every(function(e){return a!==e})}),t({code:1,message:"删除成功"})},100)})})(e).then(i)},containerProps:{width:760},title:"用户",fields:[{col:2,fields:[{dataIndex:"id",label:"ID",inputProps:{disabled:!0}}]},{col:2,fields:[{dataIndex:"name",label:"姓名",required:!0,rules:[{required:!0}]},{dataIndex:"age",label:"年龄",type:"number"}]},{col:2,fields:[{dataIndex:"tel",label:"手机号",type:"number",rules:[{pattern:/^1[3456789]\d{9}$/,message:"手机号格式错误"}]},{dataIndex:"email",label:"邮箱",rules:[{pattern:/^\w+@[a-z0-9]+\.[a-z]{2,4}$/,message:"邮箱格式错误"}]},{dataIndex:"province",label:"省",type:"select",options:["四川","浙江","江苏"],defaultValue:0},{dataIndex:"city",label:"市",type:"select",relate:"province",options:{0:["成都","绵阳"],1:["杭州","宁波"],2:["南京","无锡"]},defaultValue:0}]},{col:2,fields:[{dataIndex:"gender",label:"性别",type:"radio",options:[{label:"男",value:0},{label:"女",value:1}],defaultValue:0},{dataIndex:"interest",label:"爱好",type:"checkbox",relate:"gender",options:{0:[{label:"唱",value:0},{label:"跳",value:1},{label:"rap",value:2},{label:"篮球",value:3}],1:[{label:"购物",value:0},{label:"购物",value:1},{label:"购物",value:2},{label:"购物",value:3}]},defaultValue:[0,1,2,3]}]},{labelCol:{span:3},wrapperCol:{span:21},fields:[{dataIndex:"remark",label:"备注",type:"textarea"}]}],onSubmit:function(e,t){"create"===e?function(e){return new Promise(function(t){setTimeout(function(){e.id=T++,e.createDate=(new Date).toLocaleDateString(),S.push(e),t({code:1,message:"添加成功"})},100)})}(t).then(i):function(e,t){return new Promise(function(a){setTimeout(function(){S.forEach(function(a,n){a.id===e&&(S[n]=t)}),a({code:1,message:"修改成功"})},100)})}(t.id,t).then(i)}})};a("3yoz");var V=function(){return l.a.createElement("div",{className:"app"},l.a.createElement("div",{className:"app-header"},"Logo"),l.a.createElement(c.a,{className:"app-menu",defaultSelectedKeys:["User"],mode:"inline"},l.a.createElement(c.a.Item,{key:"User"},"用户管理")),l.a.createElement("div",{className:"app-content"},l.a.createElement(P,null)))},D=(a("40dP"),Object(o.hot)(V));i.a.render(l.a.createElement(D,null),document.getElementById("root"))},p2bk:function(e,t,a){}}]);
//# sourceMappingURL=manifest.3bce5679d2b568b1dee2.js.map